{"version":3,"sources":["components/Dashboard/Controls/controls.module.css","components/Dashboard/Balance/balance.module.css","components/Dashboard/TransactionHistory/transactionHistory.module.css","utils/checkInput.js","utils/calculateBalance.js","components/Dashboard/Controls/Controls.jsx","utils/calculateType.js","components/Dashboard/Balance/Balance.jsx","components/Dashboard/TransactionHistory/TransactionHistory.jsx","components/Dashboard/Dashboard.jsx","components/App/App.jsx","index.js"],"names":["module","exports","checkCorrectInput","inputValue","inputName","balance","toast","warn","position","POSITION","BOTTOM_LEFT","error","transactions","reduce","transaction","type","amount","Controls","state","input","e","calculateBalance","this","props","parseInt","target","name","id","uuid","date","Date","toLocaleString","addTransaction","setState","value","className","styles","controls","onSubmit","evt","preventDefault","placeholder","onChange","onInputChange","onClick","onButtonClick","Component","Balance","calculateMount","history","map","key","length","colSpan","Dashboard","prevState","transactionsJson","localStorage","getItem","JSON","parse","setItem","stringify","TransactionHistory","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d208cc6d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"controls_controls__2xCh9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"balance_balance__1wenv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"transactionHistory_history__11Sjc\"};","import { toast } from 'react-toastify';\n\nconst checkCorrectInput = (inputValue, inputName, balance) => {\n  if (inputValue < 0) {\n    toast.warn('Сумма не может быть отрицательной!', {\n      position: toast.POSITION.BOTTOM_LEFT,\n    });\n    return false;\n  }\n  if (!inputValue) {\n    toast.warn('Введите сумму для проведения операции!', {\n      position: toast.POSITION.BOTTOM_LEFT,\n    });\n    return false;\n  }\n  if (inputValue > balance && inputName === 'withdraw') {\n    toast.error('На счету недостаточно средств для проведения операции!', {\n      position: toast.POSITION.BOTTOM_LEFT,\n    });\n    return false;\n  }\n  return true;\n};\n\nexport default checkCorrectInput;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\nexport default transactions =>\n  transactions.reduce(\n    (balance, transaction) =>\n      (balance +=\n        transaction.type === 'deposit'\n          ? transaction.amount\n          : -transaction.amount),\n    0,\n  );\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport uuid from 'uuid/v4';\r\nimport checkCorrectInput from '../../../utils/checkInput';\r\nimport calculateBalance from '../../../utils/calculateBalance';\r\nimport styles from './controls.module.css';\r\n\r\nclass Controls extends Component {\r\n  state = {\r\n    input: ''\r\n  };\r\n\r\n  onButtonClick(e) {\r\n    const balance = calculateBalance(this.props.transactions);\r\n    const input = parseInt(this.state.input) || 0;\r\n\r\n    if (checkCorrectInput(input, e.target.name, balance)) {\r\n      const transaction = {\r\n        id: uuid(),\r\n        type: e.target.name,\r\n        amount: input,\r\n        date: new Date().toLocaleString(),\r\n      };\r\n      this.props.addTransaction(transaction);\r\n    }\r\n\r\n    this.setState({ input: '' });\r\n  }\r\n\r\n  onInputChange(e) {\r\n    this.setState({ input: e.target.value });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className={styles.controls}>\r\n        <form className=\"form\" onSubmit={evt => evt.preventDefault()}>\r\n          <input\r\n            type=\"number\"\r\n            value={this.state.input}\r\n            placeholder=\"Enter your amount\"\r\n            onChange={e => this.onInputChange(e)}\r\n          />\r\n          <button type=\"button\" name=\"deposit\" onClick={e => this.onButtonClick(e)}>\r\n            Deposit\r\n          </button>\r\n          <button type=\"button\" name=\"withdraw\" onClick={e => this.onButtonClick(e)}>\r\n            Withdraw\r\n          </button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nControls.propTypes = {\r\n  addTransaction: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Controls;\r\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\nexport default (transactions, type) =>\n  transactions.reduce(\n    (balance, transaction) =>\n      (balance += transaction.type === type ? transaction.amount : 0),\n    0,\n  );\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './balance.module.css';\r\nimport calculateBalance from '../../../utils/calculateBalance';\r\nimport calculateMount from '../../../utils/calculateType';\r\n\r\nconst Balance = ({ transactions }) => (\r\n  <section className={styles.balance}>\r\n    <span>⬆{calculateMount(transactions, 'deposit')}$</span>\r\n    <span>⬇{calculateMount(transactions, 'withdraw')}$</span>\r\n    <span>Balance: {calculateBalance(transactions)}$</span>\r\n  </section>\r\n);\r\n\r\nBalance.propTypes = {\r\n  transactions: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n};\r\n\r\nexport default Balance;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './transactionHistory.module.css';\r\n\r\nconst Balance = ({ transactions }) => (\r\n  <table className={styles.history}>\r\n    <thead>\r\n      <tr>\r\n        <th>Transaction</th>\r\n        <th>Amount</th>\r\n        <th>Date</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {transactions.map(({ id, type, amount, date }) => (\r\n        <tr key={id}>\r\n          <td>{type}</td>\r\n          <td>${amount}</td>\r\n          <td>{date}</td>\r\n        </tr>\r\n      ))}\r\n      {!transactions.length && (\r\n        <tr>\r\n          <td colSpan=\"3\">-</td>\r\n        </tr>\r\n      )}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nBalance.propTypes = {\r\n  transactions: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default Balance;\r\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Controls from './Controls/Controls';\nimport Balance from './Balance/Balance';\nimport TransactionHistory from './TransactionHistory/TransactionHistory';\n\nclass Dashboard extends Component {\n  state = {\n    transactions: [],\n  };\n\n  componentDidMount() {\n    const transactionsJson = localStorage.getItem('transactions');\n    const transactions = JSON.parse(transactionsJson);\n\n    if (transactionsJson) {\n      this.setState({ transactions });\n    }\n  }\n\n  componentDidUpdate() {\n    const { transactions } = this.state;\n    localStorage.setItem('transactions', JSON.stringify(transactions));\n  }\n\n  addTransaction = transaction => {\n    this.setState(prevState => ({\n      transactions: [...prevState.transactions, transaction],\n    }));\n  };\n\n  render() {\n    const { transactions } = this.state;\n    return (\n      <div>\n        <Controls transactions={transactions} addTransaction={this.addTransaction} />\n        <Balance transactions={transactions} />\n        <TransactionHistory transactions={transactions} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\nexport default Dashboard;\n","import React from 'react';\r\nimport './styles.css';\r\nimport Dashboard from '../Dashboard/Dashboard.jsx';\r\n\r\nconst App = () => <Dashboard />;\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}